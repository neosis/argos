<div fxLayout="column">
  <mat-toolbar [class.mat-elevation-z12] color="primary" class="toolbar">
    <mat-toolbar-row>
      <mat-icon class="icon-display" svgIcon="calendar-svg"></mat-icon>
      <span>Project Schedule</span>
    </mat-toolbar-row>
  </mat-toolbar>
  <div class="container-column" fxLayout="row" ngxSplit="row" [class.mat-elevation-z4]>
    <div fxFlex="20%" ngxSplitArea>
      <div class="mat-typography argos-mat-div text-center tree-header" >Header</div>
      <mat-divider class="mat-divider"></mat-divider>
      <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding matTreeNodeToggle class="mat-tree-node">
          <button mat-icon-button disabled></button>
          <mat-form-field floatLabel="never">
            <input matInput placeholder="Step description" name="node" [(ngModel)]="node.name"
                   (ngModelChange)="updateStpeName(node, $event)" required/>
          </mat-form-field>
          <button mat-icon-button (click)="addChildStep(node)" *ngIf="node.level<3" color="accent">
            <mat-icon>add</mat-icon>
          </button>
          <button mat-icon-button (click)="deleteStep(node)" *ngIf="node.level!==0" color="warn">
            <mat-icon class="icon-size">clear</mat-icon>
          </button>
        </mat-tree-node>
        <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding matTreeNodeToggle
                       class="mat-tree-node">
          <button mat-icon-button matTreeNodeToggle>
            <mat-icon class="mat-icon-rtl-mirror" (click)="toggleExpanded(node)">
              {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
            </mat-icon>
          </button>
          <mat-form-field floatLabel="never">
            <input matInput placeholder="Step description" name="node" [(ngModel)]="node.name"
                   (ngModelChange)="updateStpeName(node, $event)" required/>
          </mat-form-field>
          <button mat-icon-button (click)="addChildStep(node)" *ngIf="node.level<3" color="accent">
            <mat-icon>add</mat-icon>
          </button>
          <button mat-icon-button (click)="deleteStep(node)" *ngIf="node.level!==0" color="warn">
            <mat-icon class="icon-size">clear</mat-icon>
          </button>
        </mat-tree-node>
      </mat-tree>
    </div>
    <div class="handle handle-row" ngxSplitHandle>
      <i class="material-icons">&#xE25D;</i>
    </div>
    <div fxFlex="80%" ngxSplitArea fxLayout="column" class="argos-mat-div">
      <div fxLayout="row">
        <div class="mat-typography argos-mat-div calendar-cell" *ngFor="let month of months" [ngClass]="{current:month === currentMonth}">{{month}}</div>
      </div>
      <mat-tree fxFlex [treeControl]="treeControl" [dataSource]="dataSource">
        <mat-tree-node class="mat-tree-node calendar-row" *matTreeNodeDef="let node">
          <div class="mat-typography argos-mat-div calendar-cell" *ngFor="let month of months; let i=index" [ngClass]="{current:month === currentMonth}"></div>
        </mat-tree-node>
      </mat-tree>
    </div>
  </div>
</div>
